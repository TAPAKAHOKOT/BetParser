# Работа с парсером

## Основные команды

`uv sync` - установить все зависимости\
`make start` - запуск проекта\
`make pre-commit` - установить пре-коммит\
`make lint` - запустить линтинг кода\
`make format` - запустить форматирование кода\

## Доработка под новый сайт

- Склонируйте репозиторий
- Установить пре-коммит `make pre-commit`
- Добавьте свой класс в папку `src/parsers`, отнаследовавшись от `BaseParser`
- Укажите этот класс в `main.py` в функции `parse_live`

Для доработки можно расширять `BaseParser` класс, и изменить конфиги в `config/json/parser.json`

### Расширение BaseParser

- Возможно определить флаг `use_stealth` для использования stealth
- Нужно переопределить `_collect_match_data` для сбора данных матча со страницы матча
- В будущем планируются более гибкие возможности для расширения и настройки

### Изменения конфигов

- `url` - главная страница сайта, с которой начнется парсинг
- `headless` - нужен GUI браузера или нет
- `selectors.loader` - селектор загрузчика, на который можно ориентироваться, чтобы понять, закончилась ли загрузка
- `selectors.live_btn` - селектор кнопки для перехода на страницу live
- `selectors.sport_text` - селектор для определение названия спорта
- `selectors.required_sports` - объект, где ключ - селектор спорта, а значение - селектор матчей этого спорта
